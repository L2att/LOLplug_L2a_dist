import{_ as M,t as H,l as I,q as h,u as N,X as q,v as R,Y as j,r as l,c as m,d as t,g as w,w as x,h as i,Z as B,$ as E,a0 as T,o as r,H as U,a1 as V,e as d,I as L}from"./index-2ba42c37.js";import{M as D,L as O,b as S,a as z}from"./Right_MatchHistory-73c41f97.js";import{L as X}from"./Left_RankedEntry-410df964.js";import{L as Y}from"./Left_qr-5d8f455e.js";import"./alipay-9f9c6b68.js";const Z={name:"Record",components:{MatchHistory:D,Letf_RankedEntry:X,Left_CurrentChamp_load:O,MatchHistory_load:S,Left_User_CurrentChamp:z,Left_qr:Y},setup(){const{user:b}=H(I),a=h(null),u=h({userdata:{userdw:null}}),e=h(0),v=h(0),_=N(),c=async s=>{let o=!1;if(s&&Object.prototype.toString.call(s)==="[object Object]"&&(o=!0),s){const n=o?s:await B(s);if(n&&n.puuid){a.value=n.name_and_tagLine;const p=await E(n.puuid);u.value.userdata=n,u.value.userdata.userdw=p}e.value++}},y=async s=>{const o=await T(s);o&&o.summonerId&&o.puuid&&c(o.summonerId)};return q(()=>_.params.sid,()=>{c(_.params.sid)},{deep:!0}),R(async()=>{await c(_.params.sid)}),{user:b,searchName:a,userdata:u,MatchHistorykey:e,autobpkey:v,launch:j,queryuser:y}}},A={class:"flex",style:{height:"inherit",width:"100%"}},F={class:"z-40 sidebar rounded-lg pr-4",style:{"min-width":"300px",overflow:"auto",height:"inherit"}},G={class:"flex mb-4 flex-wrap justify-center"},J={class:"relative mb-2 overflow-hidden cursor-pointer relative inline-block rounded-lg"},K=t("svg",{class:"absolute left-0 w-4 h-4 ml-3 vertical-center"},[t("use",{"xlink:href":"#search"})],-1),P={key:0,class:"py-0 px-2 text-center"},Q=t("br",null,null,-1),W=t("br",null,null,-1),$={key:1,class:"py-0 px-2 text-center"},ee=t("br",null,null,-1),te=t("br",null,null,-1),ae={class:"flex"},se={key:1},oe={style:{height:"inherit",width:"inherit",position:"relative"}};function re(b,a,u,e,v,_){var g,k;const c=l("Tooltip"),y=l("Left_CurrentChamp_load"),s=l("Letf_RankedEntry"),o=l("Left_User_CurrentChamp"),n=l("Left_qr"),p=l("MatchHistory"),C=l("MatchHistory_load");return r(),m("div",A,[t("div",F,[t("div",G,[w(c,null,{trigger:x(()=>[t("div",J,[U(t("input",{type:"text",placeholder:"查询玩家","onUpdate:modelValue":a[0]||(a[0]=f=>e.searchName=f),class:"text-base py-2 pr-2 pl-10 rounded-lg outline-none input-color focus:bg-blue-1000"},null,512),[[V,e.searchName]]),K])]),default:x(()=>[e.user.data.tagLine?(r(),m("div",P,[d(" 要查询的用户昵称+#ID "),Q,d("例："+L(e.user.data.name_and_tagLine)+" ",1),W,d("仅支持同区 ")])):(r(),m("div",$,[d(" 要查询的用户昵称 "),ee,d("例："+L(e.user.data.gameName||e.user.data.displayName)+" ",1),te,d("仅支持同区 ")]))]),_:1}),t("div",ae,[t("button",{type:"button",style:{height:"2.3rem",width:"7rem"},onClick:a[1]||(a[1]=f=>e.queryuser(e.searchName)),class:"relative select-none block px-2 ml-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 查询 "),t("button",{type:"button",style:{height:"2.3rem",width:"7rem"},onClick:a[2]||(a[2]=f=>e.launch(e.searchName)),class:"relative select-none block px-2 ml-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 观战 ")])]),e.userdata.userdata.userdw?(r(),m("div",se,[(r(),i(s,{key:e.MatchHistorykey,userdata:e.userdata},null,8,["userdata"])),(r(),i(o,{key:e.MatchHistorykey,accountId:e.userdata.userdata.accountId},null,8,["accountId"])),w(n)])):(r(),i(y,{key:0}))]),t("div",oe,[e.userdata.userdata.userdw?(r(),i(p,{key:e.MatchHistorykey,adclass:"",accountId:(g=e.userdata.userdata)==null?void 0:g.accountId,puuid:(k=e.userdata.userdata)==null?void 0:k.puuid},null,8,["accountId","puuid"])):(r(),i(C,{key:1,class:"ml-4",style:{width:"60rem",height:"inherit",overflow:"auto"}}))])])}const ue=M(Z,[["render",re]]);export{ue as default};
