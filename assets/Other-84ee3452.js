import{_ as N,aA as B,ai as x,aB as T,a5 as d,aC as g,aD as E,aE as m,aF as A,aG as D,r as I,c as o,d as t,F as u,P as p,I as a,H as b,L as S,e as v,o as s,h as R,w as y,f as c,aH as k,n as O}from"./index-29f9ddd2.js";const L={name:"Other",data(){return{friends:{all_friends:null,selected_friends:[]},loot:{this_key:"CHAMPION",all_key:{CHAMPION:"英雄",SKIN:"皮肤",CHEST:"宝箱",ETERNALS:"永恒星碑",EMOTE:"表情",WARDSKIN:"守卫皮肤",OTHERS:"其它"},all_playerloot:null,selected_playerloot:[]},data:[{text:"刷新客户端",tips:"重新加载,不影响进行中的bp",click:"riotclientrestart"},{text:"强制关闭客户端",tips:"会直接关闭客户端，慎用",click:"riotclientunload"},{text:"批量删除好友",tips:"不可逆请谨慎操作",click:"deletfriend",offcanvas:"offcanvasRight"},{text:"战利品批量操作",tips:"不可逆请谨慎操作",click:"",offcanvas:"offcanvasRight2"}]}},watch:{},methods:{select_All_friends(){this.friends.all_friends&&(this.friends.selected_friends.length==this.friends.all_friends.length?this.friends.selected_friends=[]:this.friends.selected_friends=this.friends.all_friends.map(l=>l.id))},const_riotclientrestart(l){return B()},const_lootrecipescraft(l){x.fire({title:`请确认是否分解选中的\r
`+l.length+`个战利品\r
此操作不可逆`,inputAttributes:{autocapitalize:"off"},confirmButtonText:"确认分解",confirmButtonColor:"#fc8181",denyButtonText:"取消",denyButtonColor:"#999999",showDenyButton:!0}).then(async i=>{i.isConfirmed&&l.length>0?(await T(l),d.fire({timer:3e3,icon:"success",title:"已分解选中战利品!"}),this.loot.all_playerloot=await g(),this.loot.selected_playerloot=[]):d.fire({icon:"info",title:"取消操作"})})},const_deletfriend(){x.fire({title:`请确认是否删除选中的\r
`+this.friends.selected_friends.length+`位好友\r
此操作不可逆`,inputAttributes:{autocapitalize:"off"},confirmButtonText:"确认删除",confirmButtonColor:"#fc8181",denyButtonText:"取消",denyButtonColor:"#999999",showDenyButton:!0}).then(async l=>{l.isConfirmed&&this.friends.selected_friends.length>0?(await E(this.friends.selected_friends),d.fire({timer:3e3,icon:"success",title:"已删除选中好友!"}),this.friends.all_friends=await m(),this.friends.selected_friends=[]):d.fire({icon:"info",title:"取消操作"})})},const_riotclientunload(){return A()},get_playerloot_img(l){const h=l.match(/Characters\/(.*)/);return h&&h[1]?`https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/assets/characters/${D(h[1])}`:null},btnclick(l){if(l.click=="riotclientrestart"){this["const_"+l.click](l.type||!1);return}x.fire({title:`请确认是否操作?\r
(不可逆请谨慎)`,showDenyButton:!0,confirmButtonText:"确认",denyButtonText:"取消",denyButtonColor:"#999999",color:"#fff",customClass:{popup:["minipopup-background","shadow"]}}).then(i=>{i.isConfirmed?(this["const_"+l.click](l.type||!1),d.fire({icon:"success",title:l.text})):i.isDenied&&d.fire({icon:"info",title:"取消操作"})})}},mounted:async function(){this.friends.all_friends=await m(),this.loot.all_playerloot=await g()},beforeUnmount(){}},H={class:"flex w-full flex-wrap justify-between",style:{overflow:"auto",height:"inherit"}},M=t("div",{class:"text-left relative pl-6 text-2xl text-blue-200 border-b-2 border-blue-800 category blue-900"},[v(" 其它操作 "),t("span",{class:"text-sm text-red-400"}," 部分操作存在风险，并且不可逆，请谨慎操作 ")],-1),V={class:"flex flex-wrap mt-2"},z=["onClick","data-bs-toggle","data-bs-target","aria-controls"],P={key:0,class:"px-2 text-sm text-center text-white select-none"},K={style:{"margin-top":"57px"},class:"offcanvas offcanvas-start bg-f rounded flex-col text-light",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},U={class:"offcanvas-header"},W={class:"offcanvas-title text-2xl font-extrabold flex text-center text-light",id:"offcanvasRightLabel"},j=t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),F={key:0,class:"offcanvas-body flex text-light flex-col justify-between"},G={class:"overflow-auto",style:{height:"auto"}},q={class:"flex"},J=["id","value"],Q=["for"],X=["src"],Y=["for"],Z=["for"],$=t("div",{class:"text-sm text-center"}," 没有更多了 ",-1),ee={class:"flex"},te={key:1,class:"offcanvas-body flex text-light flex-col"},se={style:{"margin-top":"57px"},class:"offcanvas offcanvas-start bg-f rounded flex-col text-light",tabindex:"-2",id:"offcanvasRight2","aria-labelledby":"offcanvasRightLabel"},oe=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title text-2xl font-extrabold flex text-center text-light",id:"offcanvasRightLabel"}," 战利品批量操作 "),t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),le={class:"relative inline-block text-white"},ie=["value"],ne=t("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none"},[t("svg",{class:"w-5 h-5 text-white"},[t("use",{"xlink:href":"#chevron-down"})])],-1),ae={key:0,class:"offcanvas-body flex text-light flex-col justify-between"},re={class:"overflow-auto",style:{height:"auto"}},ce={class:"flex"},de=["id","value"],fe={class:"flex"},ue=["src"],he=["for"],_e=["for"],pe=["for"],xe=["for"],be=["for"],ge=t("div",{class:"text-sm text-center"}," 没有更多了 ",-1),me={class:"flex"},ye={key:1,class:"offcanvas-body flex text-light flex-col"};function ke(l,i,h,w,n,f){const C=I("Tooltip");return s(),o("div",H,[t("div",null,[M,t("div",V,[(s(!0),o(u,null,p(n.data,(e,r)=>(s(),R(C,{key:r},{trigger:y(()=>[t("button",{type:"button",onClick:_=>!e.offcanvas&&f.btnclick(e),"data-bs-toggle":e.offcanvas&&"offcanvas","data-bs-target":"#"+e.offcanvas,"aria-controls":e.offcanvas,class:"relative select-none block px-4 py-2 mx-2 mt-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"},a(e.text),9,z)]),default:y(()=>[e.children?c("",!0):(s(),o("div",P,[t("div",null,a(e.tips),1)]))]),_:2},1024))),128))])]),t("div",K,[t("div",U,[t("h5",W," 批量删除好友("+a(n.friends.all_friends&&n.friends.all_friends.length)+") ",1),j]),n.friends.all_friends?(s(),o("div",F,[t("div",G,[(s(!0),o(u,null,p(n.friends.all_friends,(e,r)=>(s(),o("div",{key:r+n.friends.all_friends.length,class:"pr-4 pb-3 flex items-center space-x-2"},[t("div",q,[b(t("input",{id:e.id,"onUpdate:modelValue":i[0]||(i[0]=_=>n.friends.selected_friends=_),value:e.id,type:"checkbox",class:"form-checkbox"},null,8,J),[[k,n.friends.selected_friends]]),t("label",{for:e.id,class:"pl-1 cursor-pointer select-none flex"},[t("img",{style:{width:"24px"},src:"https://game.gtimg.cn/images/lol/act/img/profileicon/"+e.icon+".png",onerror:"this.remove()",class:"rounded-full"},null,8,X),v(a(e.gameName||e.name),1)],8,Q),e.groupName?(s(),o("label",{key:0,for:e.id,class:"px-1 text-sm",style:{color:"#99b6cf"}},a("分组:"+(e.groupName=="**Default"?"综合":e.groupName)),9,Y)):c("",!0),e.note?(s(),o("label",{key:1,for:e.id,class:"text-sm text-info"},a("备注:"+e.note),9,Z)):c("",!0)])]))),128)),$]),t("div",ee,[t("button",{onClick:i[1]||(i[1]=e=>f.select_All_friends()),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg hover:bg-blue-1000 bg-blue-800",type:"button"}," 全选/反选 "),t("button",{onClick:i[2]||(i[2]=e=>f.const_deletfriend()),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg bg-danger",type:"button"}," 确认删除 ")])])):(s(),o("div",te," 获取好友列表失败 "))]),t("div",se,[oe,t("div",le,[b(t("select",{"onUpdate:modelValue":i[3]||(i[3]=e=>n.loot.this_key=e),class:"block w-full px-4 py-2 pr-8 text-lg font-bold leading-tight bg-blue-800 rounded-md appearance-none cursor-pointer hover:bg-blue-700 focus:outline-none"},[(s(!0),o(u,null,p(n.loot.all_key,(e,r)=>(s(),o("option",{key:r,value:r},a(e),9,ie))),128))],512),[[S,n.loot.this_key]]),ne]),n.loot.all_playerloot?(s(),o("div",ae,[t("div",re,[(s(!0),o(u,null,p(n.loot.all_playerloot,(e,r)=>(s(),o(u,null,[e.displayCategories===n.loot.this_key&&e.displayCategories!=="CHEST"&&e.itemDesc||e.localizedName?(s(),o("div",{key:r+n.loot.all_playerloot.length,class:"pr-4 pb-3 flex items-center space-x-2"},[t("div",ce,[b(t("input",{id:e.lootId,"onUpdate:modelValue":i[4]||(i[4]=_=>n.loot.selected_playerloot=_),value:e,type:"checkbox",class:"form-checkbox"},null,8,de),[[k,n.loot.selected_playerloot]]),t("div",fe,[t("img",{style:{width:"24px"},src:f.get_playerloot_img(e.tilePath),onerror:"this.remove()",class:"rounded-full"},null,8,ue),t("label",{for:e.lootId,class:"pl-1 cursor-pointer select-none flex d-inline-block text-truncate",style:{"max-width":"80px"}},a(e.itemDesc||e.localizedName),9,he)]),e.count?(s(),o("label",{key:0,for:e.lootId,class:"px-1 text-sm text-info"},"x"+a(e.count),9,_e)):c("",!0),e.displayCategories?(s(),o("label",{key:1,for:e.lootId,class:"px-1 text-sm",style:{color:"#99b6cf"}},a(e.displayCategories=="CHAMPION"?"英雄":e.displayCategories=="SKIN"?"皮肤":e.displayCategories=="ETERNALS"?"永恒星碑":e.displayCategories=="EMOTE"?"表情":e.displayCategories=="WARDSKIN"?"守卫皮肤":"其它"),9,pe)):c("",!0),t("label",{for:e.lootId,class:O(["px-1 text-sm",e.itemStatus==="OWNED"?"text-danger":"text-success"]),style:{color:"#99b6cf"}},a(e.itemStatus==="OWNED"?"已拥有":"未拥有"),11,xe),e.displayCategories?(s(),o("label",{key:2,for:e.lootId,class:"px-1 text-sm text-success"},"+"+a(e.disenchantValue*e.count),9,be)):c("",!0)])])):c("",!0)],64))),256)),ge]),t("div",me,[t("button",{onClick:i[5]||(i[5]=e=>f.const_lootrecipescraft(n.loot.selected_playerloot)),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg bg-blue-800 hover:bg-blue-1000",type:"button"}," 确认分解 ")])])):(s(),o("div",ye," 获取战利品失败 "))])])}const we=N(L,[["render",ke]]);export{we as default};
