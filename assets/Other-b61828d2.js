import{_ as e,z as t,aD as l,aj as s,aE as o,N as a,aF as i,aG as n,aH as r,aI as c,r as d,c as f,d as u,F as x,R as p,g as b,w as h,I as g,H as y,L as m,e as v,o as _,h as k,f as w,aJ as C,n as N}from"./index-66f837b7.js";const I={name:"Other",data:()=>({invoke:t,friends:{all_friends:null,selected_friends:[]},loot:{this_key:"ALL",all_key:{ALL:"全部",CHAMPION:"英雄",SKIN:"皮肤",CHEST:"宝箱",ETERNALS:"永恒星碑",EMOTE:"表情",WARDSKIN:"守卫皮肤",OTHERS:"其它"},all_playerloot:null,selected_playerloot:[]},data:[{text:"刷新客户端",tips:"重新加载,不影响进行中的bp",click:"riotclientrestart"},{text:"强制关闭客户端",tips:"会直接关闭客户端，慎用",click:"riotclientunload"},{text:"批量删除好友",tips:"不可逆请谨慎操作",click:"deletfriend",offcanvas:"offcanvasRight"},{text:"战利品批量操作",tips:"不可逆请谨慎操作",click:"",offcanvas:"offcanvasRight2"}]}),watch:{},methods:{select_All_friends(){this.friends.all_friends&&(this.friends.selected_friends.length==this.friends.all_friends.length?this.friends.selected_friends=[]:this.friends.selected_friends=this.friends.all_friends.map((e=>e.id)))},const_riotclientrestart:e=>l(),const_lootrecipescraft(e){s.fire({title:"请确认是否分解选中的\r\n"+e.length+"个战利品\r\n此操作不可逆",inputAttributes:{autocapitalize:"off"},confirmButtonText:"确认分解",confirmButtonColor:"#fc8181",denyButtonText:"取消",denyButtonColor:"#999999",showDenyButton:!0}).then((async t=>{t.isConfirmed&&e.length>0?(await o(e),a.fire({timer:3e3,icon:"success",title:"已分解选中战利品!"}),this.loot.all_playerloot=await i(),this.loot.selected_playerloot=[]):a.fire({icon:"info",title:"取消操作"})}))},const_deletfriend(){s.fire({title:"请确认是否删除选中的\r\n"+this.friends.selected_friends.length+"位好友\r\n此操作不可逆",inputAttributes:{autocapitalize:"off"},confirmButtonText:"确认删除",confirmButtonColor:"#fc8181",denyButtonText:"取消",denyButtonColor:"#999999",showDenyButton:!0}).then((async e=>{e.isConfirmed&&this.friends.selected_friends.length>0?(await n(this.friends.selected_friends),a.fire({timer:3e3,icon:"success",title:"已删除选中好友!"}),this.friends.all_friends=await r(),this.friends.selected_friends=[]):a.fire({icon:"info",title:"取消操作"})}))},const_riotclientunload:()=>c(),get_playerloot_img(e){const t="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/assets";if(534===e.storeItemId)return`${t}/loot/mythic_essence_490px.png`;if("CHAMPION"===e.displayCategories||"SKIN"===e.displayCategories){if(!e.tilePath)return null;const l=e.tilePath.match(/Characters\/(.*)/);if(l&&l[1])return`${t}/characters/${l[1].toLowerCase()}`}return e.asset?`${t}/loot/${e.asset.toLowerCase()}.png`:null},btnclick(e){"riotclientrestart"!=e.click?s.fire({title:"请确认是否操作?\r\n(不可逆请谨慎)",showDenyButton:!0,confirmButtonText:"确认",denyButtonText:"取消",denyButtonColor:"#999999",color:"#fff",customClass:{popup:["minipopup-background","shadow"]}}).then((t=>{t.isConfirmed?(this["const_"+e.click](e.type||!1),a.fire({icon:"success",title:e.text})):t.isDenied&&a.fire({icon:"info",title:"取消操作"})})):this["const_"+e.click](e.type||!1)}},mounted:async function(){this.friends.all_friends=await r(),this.loot.all_playerloot=await i()},beforeUnmount(){}},L={class:"flex w-full flex-wrap justify-between",style:{overflow:"auto",height:"inherit"}},A=u("div",{class:"text-left relative pl-6 text-2xl text-blue-200 border-b-2 border-blue-800 category blue-900"},[v(" 其它操作 "),u("span",{class:"text-sm text-red-400"}," 部分操作存在风险，并且不可逆，请谨慎操作 ")],-1),B={class:"flex flex-wrap mt-2"},E=["onClick","data-bs-toggle","data-bs-target","aria-controls"],R={key:0,class:"px-2 text-sm text-center text-white select-none"},T=u("div",{class:"px-2 text-sm text-center text-white select-none"},[u("div",null,"需要登录QQ")],-1),D={style:{"margin-top":"57px"},class:"offcanvas offcanvas-start bg-f rounded flex-col text-light",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},S={class:"offcanvas-header"},O={class:"offcanvas-title text-2xl font-extrabold flex text-center text-light",id:"offcanvasRightLabel"},H=u("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),V={key:0,class:"offcanvas-body flex text-light flex-col justify-between"},j={class:"overflow-auto",style:{height:"auto"}},z={class:"flex"},K=["id","value"],M=["for"],P=["src"],$=["for"],U=["for"],W=u("div",{class:"text-sm text-center"}," 没有更多了 ",-1),q={class:"flex"},F={key:1,class:"offcanvas-body flex text-light flex-col"},Q={style:{"margin-top":"57px"},class:"offcanvas offcanvas-start bg-f rounded flex-col text-light",tabindex:"-2",id:"offcanvasRight2","aria-labelledby":"offcanvasRightLabel"},G=u("div",{class:"offcanvas-header"},[u("h5",{class:"offcanvas-title text-2xl font-extrabold flex text-center text-light",id:"offcanvasRightLabel"}," 战利品批量操作 "),u("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),J={class:"relative inline-block text-white"},X=["value"],Y=u("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none"},[u("svg",{class:"w-5 h-5 text-white"},[u("use",{"xlink:href":"#chevron-down"})])],-1),Z={key:0,class:"offcanvas-body flex text-light flex-col justify-between"},ee={class:"overflow-auto",style:{height:"auto"}},te={class:"flex"},le=["id","value"],se={class:"flex"},oe=["src"],ae=["for"],ie=["for"],ne=["for"],re=["for"],ce=["for"],de=u("div",{class:"text-sm text-center"}," 没有更多了 ",-1),fe={class:"flex"},ue={key:1,class:"offcanvas-body flex text-light flex-col"},xe=e(I,[["render",function(e,t,l,s,o,a){const i=d("Tooltip");return _(),f("div",L,[u("div",null,[A,u("div",B,[(_(!0),f(x,null,p(o.data,((e,t)=>(_(),k(i,{key:t},{trigger:h((()=>[u("button",{type:"button",onClick:t=>!e.offcanvas&&a.btnclick(e),"data-bs-toggle":e.offcanvas&&"offcanvas","data-bs-target":"#"+e.offcanvas,"aria-controls":e.offcanvas,class:"relative select-none block px-4 py-2 mx-2 mt-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"},g(e.text),9,E)])),default:h((()=>[e.children?w("",!0):(_(),f("div",R,[u("div",null,g(e.tips),1)]))])),_:2},1024)))),128)),b(i,null,{trigger:h((()=>[u("button",{type:"button",onClick:t[0]||(t[0]=e=>o.invoke("open_qq_login_window")),class:"relative select-none block px-4 py-2 mx-2 mt-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 自动补充大乱斗骰子 ")])),default:h((()=>[T])),_:1})])]),u("div",D,[u("div",S,[u("h5",O," 批量删除好友("+g(o.friends.all_friends&&o.friends.all_friends.length)+") ",1),H]),o.friends.all_friends?(_(),f("div",V,[u("div",j,[(_(!0),f(x,null,p(o.friends.all_friends,((e,l)=>(_(),f("div",{key:l+o.friends.all_friends.length,class:"pr-4 pb-3 flex items-center space-x-2"},[u("div",z,[y(u("input",{id:e.id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.friends.selected_friends=e),value:e.id,type:"checkbox",class:"form-checkbox"},null,8,K),[[C,o.friends.selected_friends]]),u("label",{for:e.id,class:"pl-1 cursor-pointer select-none flex"},[u("img",{style:{width:"24px"},src:"https://game.gtimg.cn/images/lol/act/img/profileicon/"+e.icon+".png",onerror:"this.remove()",class:"rounded-full"},null,8,P),v(g(e.gameName||e.name),1)],8,M),e.groupName?(_(),f("label",{key:0,for:e.id,class:"px-1 text-sm",style:{color:"#99b6cf"}},g("分组:"+("**Default"==e.groupName?"综合":e.groupName)),9,$)):w("",!0),e.note?(_(),f("label",{key:1,for:e.id,class:"text-sm text-info"},g("备注:"+e.note),9,U)):w("",!0)])])))),128)),W]),u("div",q,[u("button",{onClick:t[2]||(t[2]=e=>a.select_All_friends()),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg hover:bg-blue-1000 bg-blue-800",type:"button"}," 全选/反选 "),u("button",{onClick:t[3]||(t[3]=e=>a.const_deletfriend()),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg bg-danger",type:"button"}," 确认删除 ")])])):(_(),f("div",F," 获取好友列表失败 "))]),u("div",Q,[G,u("div",J,[y(u("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.loot.this_key=e),class:"block w-full px-4 py-2 pr-8 text-lg font-bold leading-tight bg-blue-800 rounded-md appearance-none cursor-pointer hover:bg-blue-700 focus:outline-none"},[(_(!0),f(x,null,p(o.loot.all_key,((e,t)=>(_(),f("option",{key:t,value:t},g(e),9,X)))),128))],512),[[m,o.loot.this_key]]),Y]),o.loot.all_playerloot?(_(),f("div",Z,[u("div",ee,[(_(!0),f(x,null,p(o.loot.all_playerloot,((e,l)=>(_(),f(x,null,["ALL"===o.loot.this_key||e.displayCategories===o.loot.this_key&&"CHEST"!=e.displayCategories&&e.itemDesc||e.localizedName?(_(),f("div",{key:l+o.loot.all_playerloot.length,class:"pr-4 pb-3 flex items-center space-x-2"},[u("div",te,[y(u("input",{id:e.lootId,"onUpdate:modelValue":t[5]||(t[5]=e=>o.loot.selected_playerloot=e),value:e,type:"checkbox",class:"form-checkbox"},null,8,le),[[C,o.loot.selected_playerloot]]),u("div",se,[u("img",{style:{width:"24px"},src:a.get_playerloot_img(e),onerror:"this.remove()",class:"rounded-full"},null,8,oe),u("label",{for:e.lootId,class:"pl-1 cursor-pointer select-none flex d-inline-block text-truncate",style:{"max-width":"80px"}},g(e.itemDesc||e.localizedName),9,ae)]),e.count?(_(),f("label",{key:0,for:e.lootId,class:"px-1 text-sm text-info"},"x"+g(e.count),9,ie)):w("",!0),e.displayCategories?(_(),f("label",{key:1,for:e.lootId,class:"px-1 text-sm",style:{color:"#99b6cf"}},g("CHAMPION"==e.displayCategories?"英雄":"SKIN"==e.displayCategories?"皮肤":"ETERNALS"==e.displayCategories?"永恒星碑":"EMOTE"==e.displayCategories?"表情":"WARDSKIN"==e.displayCategories?"守卫皮肤":"其它"),9,ne)):w("",!0),e.disenchantValue>0?(_(),f("label",{key:2,for:e.lootId,class:N(["px-1 text-sm","OWNED"===e.itemStatus?"text-danger":"text-success"]),style:{color:"#99b6cf"}},g("OWNED"===e.itemStatus?"已拥有":"未拥有"),11,re)):w("",!0),e.disenchantValue>0&&e.displayCategories?(_(),f("label",{key:3,for:e.lootId,class:"px-1 text-sm text-success"},"+"+g(e.disenchantValue*e.count),9,ce)):w("",!0)])])):w("",!0)],64)))),256)),de]),u("div",fe,[u("button",{onClick:t[6]||(t[6]=e=>a.const_lootrecipescraft(o.loot.selected_playerloot)),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg bg-blue-800 hover:bg-blue-1000",type:"button"}," 确认分解 ")])])):(_(),f("div",ue," 获取战利品失败 "))])])}]]);export{xe as default};
