import{_ as e,t as a,l as t,m as s,u as r,V as l,q as u,W as d,r as i,c as n,d as o,g as c,w as h,h as p,X as m,Y as y,Z as b,o as f,D as v,$ as g,e as _,E as k}from"./index-4160e270.js";import{M as w,L as x,b as L,a as C}from"./Right_MatchHistory-f8516aa6.js";import{L as M}from"./Left_RankedEntry-6a73a444.js";import{L as j}from"./Left_qr-a5d25d08.js";import"./alipay-ddd3d0d5.js";const H={name:"Record",components:{MatchHistory:w,Letf_RankedEntry:M,Left_CurrentChamp_load:x,MatchHistory_load:L,Left_User_CurrentChamp:C,Left_qr:j},setup(){const{user:e}=a(t),i=s(null),n=s({userdata:{userdw:null}}),o=s(0),c=s(0),h=r(),p=async e=>{let a=!1;if(e&&"[object Object]"===Object.prototype.toString.call(e)&&(a=!0),e){const t=a?e:await m(e);if(t&&t.puuid){i.value=t.name_and_tagLine;const e=await y(t.puuid);n.value.userdata=t,n.value.userdata.userdw=e}o.value++}};return l((()=>h.params.sid),(()=>{p(h.params.sid)}),{deep:!0}),u((async()=>{await p(h.params.sid)})),{user:e,searchName:i,userdata:n,MatchHistorykey:o,autobpkey:c,launch:d,queryuser:async e=>{const a=await b(e);a&&a.summonerId&&a.puuid&&p(a.summonerId)}}}},N={class:"flex",style:{height:"inherit",width:"100%"}},q={class:"z-40 sidebar rounded-lg pr-4",style:{"min-width":"300px",overflow:"auto",height:"inherit"}},I={class:"flex mb-4 flex-wrap justify-center"},R={class:"relative mb-2 overflow-hidden cursor-pointer relative inline-block rounded-lg"},E=o("svg",{class:"absolute left-0 w-4 h-4 ml-3 vertical-center"},[o("use",{"xlink:href":"#search"})],-1),U={key:0,class:"py-0 px-2 text-center"},D=o("br",null,null,-1),O=o("br",null,null,-1),V={key:1,class:"py-0 px-2 text-center"},z=o("br",null,null,-1),S=o("br",null,null,-1),T={class:"flex"},W={key:1},X={style:{height:"inherit",width:"inherit",position:"relative"}},Y=e(H,[["render",function(e,a,t,s,r,l){var u,d;const m=i("Tooltip"),y=i("Left_CurrentChamp_load"),b=i("Letf_RankedEntry"),w=i("Left_qr"),x=i("Left_User_CurrentChamp"),L=i("MatchHistory"),C=i("MatchHistory_load");return f(),n("div",N,[o("div",q,[o("div",I,[c(m,null,{trigger:h((()=>[o("div",R,[v(o("input",{type:"text",placeholder:"查询玩家","onUpdate:modelValue":a[0]||(a[0]=e=>s.searchName=e),class:"text-base py-2 pr-2 pl-10 rounded-lg outline-none input-color focus:bg-blue-1000"},null,512),[[g,s.searchName]]),E])])),default:h((()=>[s.user.data.tagLine?(f(),n("div",U,[_(" 要查询的用户昵称+#ID "),D,_("例："+k(s.user.data.name_and_tagLine)+" ",1),O,_("仅支持同区 ")])):(f(),n("div",V,[_(" 要查询的用户昵称 "),z,_("例："+k(s.user.data.gameName||s.user.data.displayName)+" ",1),S,_("仅支持同区 ")]))])),_:1}),o("div",T,[o("button",{type:"button",style:{height:"2.3rem",width:"7rem"},onClick:a[1]||(a[1]=e=>s.queryuser(s.searchName)),class:"relative select-none block px-2 ml-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 查询 "),o("button",{type:"button",style:{height:"2.3rem",width:"7rem"},onClick:a[2]||(a[2]=e=>s.launch(s.searchName)),class:"relative select-none block px-2 ml-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 观战 ")])]),s.userdata.userdata.userdw?(f(),n("div",W,[(f(),p(b,{key:s.MatchHistorykey,userdata:s.userdata},null,8,["userdata"])),c(w),(f(),p(x,{key:s.MatchHistorykey,puuid:s.userdata.userdata.puuid},null,8,["puuid"]))])):(f(),p(y,{key:0}))]),o("div",X,[s.userdata.userdata.userdw?(f(),p(L,{key:s.MatchHistorykey,adclass:"",accountId:null==(u=s.userdata.userdata)?void 0:u.accountId,puuid:null==(d=s.userdata.userdata)?void 0:d.puuid},null,8,["accountId","puuid"])):(f(),p(C,{key:1,class:"ml-4",style:{width:"60rem",height:"inherit",overflow:"auto"}}))])])}]]);export{Y as default};
