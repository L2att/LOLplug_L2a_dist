import{_ as e,aI as t,a as l,aJ as s,ah as o,aK as a,K as i,aL as n,aM as r,aN as c,aO as d,m as f,aP as u,q as p,aQ as x,r as h,c as m,d as g,F as b,O as y,h as v,w as k,f as _,g as w,o as C,E as B,D as N,aR as I,e as O,I as E,n as S,$ as A,p as T,j as R}from"./index-f5dbc8c3.js";import{O as D}from"./Offcanvas-d6373ec6.js";const L={name:"Other",components:{Offcanvas:D},data:()=>({invoke:t,router:l(),friends:{all_friends:null,selected_friends:[]},loot:{this_key:"ALL",all_key:{ALL:"全部",CHAMPION:"英雄",SKIN:"皮肤",CHEST:"宝箱",ETERNALS:"永恒星碑",EMOTE:"表情",WARDSKIN:"守卫皮肤",OTHERS:"其它"},all_playerloot:null,selected_playerloot:[]},data:[{text:"刷新客户端",tips:"重新加载,不影响进行中的bp",click:"riotclientrestart"},{text:"强制关闭客户端",tips:"会直接关闭客户端，慎用",click:"riotclientunload"},{text:"批量删除好友",tips:"不可逆请谨慎操作",click:"deletfriend",offcanvas:"offcanvasRight"},{text:"战利品批量操作",tips:"不可逆请谨慎操作",offcanvas:"offcanvasRight2"},{text:"黑名单",tips:"拉黑操作(游戏内拉黑的玩家会在这里显示)",offcanvas:"offcanvasRight3"}]}),watch:{},methods:{select_All_friends(){this.friends.all_friends&&(this.friends.selected_friends.length==this.friends.all_friends.length?this.friends.selected_friends=[]:this.friends.selected_friends=this.friends.all_friends.map((e=>e.id)))},const_riotclientrestart:e=>s(),const_lootrecipescraft(e){o.fire({title:"请确认是否分解选中的\r\n"+e.length+"个战利品\r\n此操作不可逆",inputAttributes:{autocapitalize:"off"},confirmButtonText:"确认分解",confirmButtonColor:"#fc8181",denyButtonText:"取消",denyButtonColor:"#999999",showDenyButton:!0}).then((async t=>{t.isConfirmed&&e.length>0?(await a(e),i.fire({timer:3e3,icon:"success",title:"已分解选中战利品!"}),this.loot.all_playerloot=await n(),this.loot.selected_playerloot=[]):i.fire({icon:"info",title:"取消操作"})}))},const_deletfriend(){o.fire({title:"请确认是否删除选中的\r\n"+this.friends.selected_friends.length+"位好友\r\n此操作不可逆",inputAttributes:{autocapitalize:"off"},confirmButtonText:"确认删除",confirmButtonColor:"#fc8181",denyButtonText:"取消",denyButtonColor:"#999999",showDenyButton:!0}).then((async e=>{e.isConfirmed&&this.friends.selected_friends.length>0?(await r(this.friends.selected_friends),i.fire({timer:3e3,icon:"success",title:"已删除选中好友!"}),this.friends.all_friends=await c(),this.friends.selected_friends=[]):i.fire({icon:"info",title:"取消操作"})}))},const_riotclientunload:()=>d(),get_playerloot_img(e){const t="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/assets";if(534===e.storeItemId)return`${t}/loot/mythic_essence_490px.png`;if("CHAMPION"===e.displayCategories||"SKIN"===e.displayCategories){if(!e.tilePath)return null;const l=e.tilePath.match(/Characters\/(.*)/);if(l&&l[1])return`${t}/characters/${l[1].toLowerCase()}`}return e.asset?`${t}/loot/${e.asset.toLowerCase()}.png`:"https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/assets/loot/chest_generic.png"},btnclick(e){"riotclientrestart"!=e.click?o.fire({title:"请确认是否操作?\r\n(不可逆请谨慎)",showDenyButton:!0,confirmButtonText:"确认",denyButtonText:"取消",denyButtonColor:"#999999",color:"#fff",customClass:{popup:["minipopup-background","shadow"]}}).then((t=>{t.isConfirmed?(this["const_"+e.click](e.type||!1),i.fire({icon:"success",title:e.text})):t.isDenied&&i.fire({icon:"info",title:"取消操作"})})):this["const_"+e.click](e.type||!1)}},mounted:async function(){this.friends.all_friends=await c(),this.loot.all_playerloot=await n()},beforeUnmount(){},setup(){const e=f([]),t=f([]),l=f(""),s=f([]),o=f(null);return u().then((e=>{o.value=e&&e.environment})),p((()=>{x.queryBlacklistall().then((t=>{e.value=t}))})),{searchtext:l,searchdata:s,Search:()=>{const t=l.value,o=e.value;if(!t||!o)return void(s.value=[]);const a=o.filter((e=>e.gameName.indexOf(t)>=0));s.value=a},Blacklist:e,tmp_Blacklist:t,server_info:o,blacklistUtils:x}}},U=e=>(T("data-v-023bd5e9"),e=e(),R(),e),j={class:"flex w-full flex-wrap justify-between",style:{overflow:"auto",height:"inherit"}},V=U((()=>g("div",{class:"text-left relative pl-6 text-2xl text-blue-200 border-b-2 border-blue-800 category blue-900"},[O(" 其它操作 "),g("span",{class:"text-sm text-red-400"},"部分操作存在风险，并且不可逆，请谨慎操作")],-1))),K={class:"flex flex-wrap mt-2"},H=["onClick","data-bs-toggle","data-bs-target","aria-controls"],M={key:0,class:"px-2 text-sm text-center text-white select-none"},P=U((()=>g("div",{class:"px-2 text-sm text-center text-white select-none"},[g("div",null,"需要登录QQ")],-1))),$={key:0,class:"overflow-auto text-light",style:{height:"auto"}},q={style:{height:"34rem","overflow-x":"auto"}},z={class:"flex"},Q=["id","value"],W=["for"],F=["src"],J=["for"],G=["for"],X={class:"text-sm text-center"},Y={class:"flex"},Z={key:1,class:"offcanvas-body flex text-light flex-col"},ee={key:0,class:"overflow-auto text-light",style:{height:"auto",width:"30rem"}},te={class:"relative inline-block text-white"},le=["value"],se=U((()=>g("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 pointer-events-none"},[g("svg",{class:"w-5 h-5 text-white"},[g("use",{"xlink:href":"#chevron-down"})])],-1))),oe={class:"flex"},ae=["id","value"],ie={class:"flex"},ne=["src"],re=["for"],ce=["for"],de=["for"],fe=["for"],ue=["for"],pe=U((()=>g("div",{class:"text-sm text-center"},"没有更多了",-1))),xe={class:"flex"},he={key:1,class:"offcanvas-body flex text-light flex-col"},me={class:"text-white",style:{width:"38rem"}},ge={class:"text-left relative pl-6 text-2xl text-blue-200 border-b-2 border-blue-800 category blue-900"},be=U((()=>g("span",{class:"flex items-center text-sm justify-between"},[g("div",{class:"text-red-400"},"游戏内拉黑的玩家"),g("div",{class:"text-red-400"},"队伍中遇到会自动提醒"),g("div",{class:"text-green-400"},"点击昵称可查看战绩")],-1))),ye={class:"pt-2 flex flex-wrap items-center justify-start",style:{"max-height":"33rem","overflow-x":"auto"}},ve=["id","value"],ke=["for"],_e=["src"],we=["onClick"],Ce={key:0,style:{color:"#FFEB3B"}},Be={class:"flex items-end justify-between"},Ne=e(L,[["render",function(e,t,l,s,o,a){const i=h("Tooltip"),n=h("Offcanvas");return C(),m("div",j,[g("div",null,[V,g("div",K,[(C(!0),m(b,null,y(o.data,((e,t)=>(C(),v(i,{key:t},{trigger:k((()=>[g("button",{type:"button",onClick:t=>e.path?o.router.push({path:e.path}):!e.offcanvas&&a.btnclick(e),"data-bs-toggle":e.offcanvas&&"offcanvas","data-bs-target":"#"+e.offcanvas,"aria-controls":e.offcanvas,class:"relative select-none block px-4 py-2 mx-2 mt-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"},B(e.text),9,H)])),default:k((()=>[e.children?_("",!0):(C(),m("div",M,[g("div",null,B(e.tips),1)]))])),_:2},1024)))),128)),"CQ100"==s.server_info?(C(),v(i,{key:0},{trigger:k((()=>[g("button",{type:"button",onClick:t[0]||(t[0]=e=>o.invoke("open_qq_login_window")),class:"relative select-none block px-4 py-2 mx-2 mt-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"},"自动补充大乱斗骰子")])),default:k((()=>[P])),_:1})):_("",!0)])]),w(n,{id:"offcanvasRight",title:"批量删除好友"},{default:k((()=>[o.friends.all_friends?(C(),m("div",$,[g("div",q,[(C(!0),m(b,null,y(o.friends.all_friends,((e,l)=>(C(),m("div",{key:l+o.friends.all_friends.length,class:"pr-4 pb-3 flex items-center space-x-2"},[g("div",z,[N(g("input",{id:e.id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.friends.selected_friends=e),value:e.id,type:"checkbox",class:"form-checkbox"},null,8,Q),[[I,o.friends.selected_friends]]),g("label",{for:e.id,class:"pl-1 cursor-pointer select-none flex"},[g("img",{style:{width:"24px"},src:"https://game.gtimg.cn/images/lol/act/img/profileicon/"+e.icon+".png",onerror:"this.remove()",class:"rounded-full"},null,8,F),O(" "+B(e.gameName||e.name),1)],8,W),e.groupName?(C(),m("label",{key:0,for:e.id,class:"px-1 text-sm",style:{color:"#99b6cf"}},B("分组:"+("**Default"==e.groupName?"综合":e.groupName)),9,J)):_("",!0),e.note?(C(),m("label",{key:1,for:e.id,class:"text-sm text-info"},B("备注:"+e.note),9,G)):_("",!0)])])))),128))]),g("div",X,"总共："+B(o.friends.all_friends.length)+"个好友；没有更多了",1),g("div",Y,[g("button",{onClick:t[2]||(t[2]=e=>a.select_All_friends()),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg hover:bg-blue-1000 bg-blue-800",type:"button"},"全选/反选"),g("button",{onClick:t[3]||(t[3]=e=>a.const_deletfriend()),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg bg-danger",type:"button"},"确认删除")])])):(C(),m("div",Z,"获取好友列表失败"))])),_:1}),w(n,{id:"offcanvasRight2",title:"战利品批量操作"},{default:k((()=>[o.loot.all_playerloot?(C(),m("div",ee,[g("div",te,[N(g("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.loot.this_key=e),class:"block w-full px-4 py-2 pr-8 text-lg font-bold leading-tight bg-blue-800 rounded-md appearance-none cursor-pointer hover:bg-blue-700 focus:outline-none"},[(C(!0),m(b,null,y(o.loot.all_key,((e,t)=>(C(),m("option",{key:t,value:t},B(e),9,le)))),128))],512),[[E,o.loot.this_key]]),se]),(C(!0),m(b,null,y(o.loot.all_playerloot,((e,l)=>(C(),m(b,null,["ALL"===o.loot.this_key||e.displayCategories===o.loot.this_key&&"CHEST"!=e.displayCategories&&e.itemDesc||e.localizedName?(C(),m("div",{key:l+o.loot.all_playerloot.length,class:"pr-4 pb-3 flex items-center space-x-2"},[g("div",oe,[N(g("input",{id:e.lootId,"onUpdate:modelValue":t[5]||(t[5]=e=>o.loot.selected_playerloot=e),value:e,type:"checkbox",class:"form-checkbox"},null,8,ae),[[I,o.loot.selected_playerloot]]),g("div",ie,[g("img",{style:{width:"24px"},src:a.get_playerloot_img(e),onerror:"this.remove()",class:"rounded-full"},null,8,ne),g("label",{for:e.lootId,class:"pl-1 cursor-pointer select-none flex d-inline-block text-truncate",style:{"max-width":"80px"}},B(e.itemDesc||e.localizedName),9,re)]),e.count?(C(),m("label",{key:0,for:e.lootId,class:"px-1 text-sm text-info"},"x"+B(e.count),9,ce)):_("",!0),e.displayCategories?(C(),m("label",{key:1,for:e.lootId,class:"px-1 text-sm",style:{color:"#99b6cf"}},B("CHAMPION"==e.displayCategories?"英雄":"SKIN"==e.displayCategories?"皮肤":"ETERNALS"==e.displayCategories?"永恒星碑":"EMOTE"==e.displayCategories?"表情":"WARDSKIN"==e.displayCategories?"守卫皮肤":"其它"),9,de)):_("",!0),e.disenchantValue>0?(C(),m("label",{key:2,for:e.lootId,class:S(["px-1 text-sm","OWNED"===e.itemStatus?"text-danger":"text-success"]),style:{color:"#99b6cf"}},B("OWNED"===e.itemStatus?"已拥有":"未拥有"),11,fe)):_("",!0),e.disenchantValue>0&&e.displayCategories?(C(),m("label",{key:3,for:e.lootId,class:"px-1 text-sm text-success"}," +"+B(e.disenchantValue*e.count),9,ue)):_("",!0)])])):_("",!0)],64)))),256)),pe,g("div",xe,[g("button",{onClick:t[6]||(t[6]=e=>a.const_lootrecipescraft(o.loot.selected_playerloot)),class:"relative select-none block px-4 py-2 mx-auto mt-4 font-semibold rounded-md shadow-lg bg-blue-800 hover:bg-blue-1000",type:"button"},"确认分解")])])):(C(),m("div",he,"获取战利品失败"))])),_:1}),w(n,{id:"offcanvasRight3",title:"黑名单(已拉黑的玩家)"},{default:k((()=>[g("div",me,[g("div",ge,[O(" 黑名单管理("+B(s.Blacklist.length)+") ",1),be]),g("div",ye,[(C(!0),m(b,null,y(s.searchdata.length>0?s.searchdata:s.Blacklist,((e,l)=>(C(),m("div",{key:l,class:"flex pb-3"},[N(g("input",{id:"blac"+l,"onUpdate:modelValue":t[7]||(t[7]=e=>s.tmp_Blacklist=e),value:e.id,type:"checkbox",class:"cursor-pointer form-checkbox"},null,8,ve),[[I,s.tmp_Blacklist]]),g("label",{for:"blac"+l,class:"flex px-1 text-sm text-info cursor-pointer"},[g("img",{src:e.icon&&"https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/v1/profile-icons/"+e.icon+".jpg",class:"w-6 h-6 ml-1 overflow-hidden bg-center bg-cover rounded-full bg-blue-1000",alt:""},null,8,_e)],8,ke),g("div",{onClick:t=>s.blacklistUtils.addRemark(e.puuid,o.router),style:{"text-align":"left"},class:"cursor-pointer text-white w-22 overflow-hidden text-xs font-medium whitespace-no-wrap hover:text-green-400 text-overflow"},[O(B(e.gameName||e.puuid)+" ",1),e.remark?(C(),m("p",Ce,B(e.remark),1)):_("",!0)],8,we)])))),128))]),g("div",Be,[g("button",{type:"button",onClick:t[8]||(t[8]=e=>(s.blacklistUtils.removeBlacklist(s.tmp_Blacklist),s.Blacklist=s.Blacklist.filter((e=>!s.tmp_Blacklist.includes(e.id))))),class:"relative text-red-400 select-none block px-4 mt-2 py-2 mx-2 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"},"删除"),N(g("input",{type:"text",placeholder:"搜索黑名单",onInput:t[9]||(t[9]=(...e)=>s.Search&&s.Search(...e)),name:"searchtext",class:"text-white text-base mx-4 py-2 pr-2 pl-6 rounded-lg outline-none input-color focus:bg-blue-1000","onUpdate:modelValue":t[10]||(t[10]=e=>s.searchtext=e)},null,544),[[A,s.searchtext]])])])])),_:1})])}],["__scopeId","data-v-023bd5e9"]]);export{Ne as default};
