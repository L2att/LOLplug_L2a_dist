import{_ as e,t as a,l as t,q as s,u as r,X as l,v as u,Y as n,r as d,c as i,d as o,g as c,w as h,h as m,Z as p,$ as y,a0 as b,o as f,H as v,a1 as g,e as _,I as k}from"./index-09e245e0.js";import{M as w,L as x,b as L,a as C}from"./Right_MatchHistory-8ac3d2b2.js";import{L as H}from"./Left_RankedEntry-fe431281.js";import{L as I}from"./Left_qr-c99dc35e.js";import"./alipay-ddd3d0d5.js";const M={name:"Record",components:{MatchHistory:w,Letf_RankedEntry:H,Left_CurrentChamp_load:x,MatchHistory_load:L,Left_User_CurrentChamp:C,Left_qr:I},setup(){const{user:e}=a(t),d=s(null),i=s({userdata:{userdw:null}}),o=s(0),c=s(0),h=r(),m=async e=>{let a=!1;if(e&&"[object Object]"===Object.prototype.toString.call(e)&&(a=!0),e){const t=a?e:await p(e);if(t&&t.puuid){d.value=t.name_and_tagLine;const e=await y(t.puuid);i.value.userdata=t,i.value.userdata.userdw=e}o.value++}};return l((()=>h.params.sid),(()=>{m(h.params.sid)}),{deep:!0}),u((async()=>{await m(h.params.sid)})),{user:e,searchName:d,userdata:i,MatchHistorykey:o,autobpkey:c,launch:n,queryuser:async e=>{const a=await b(e);a&&a.summonerId&&a.puuid&&m(a.summonerId)}}}},j={class:"flex",style:{height:"inherit",width:"100%"}},N={class:"z-40 sidebar rounded-lg pr-4",style:{"min-width":"300px",overflow:"auto",height:"inherit"}},q={class:"flex mb-4 flex-wrap justify-center"},R={class:"relative mb-2 overflow-hidden cursor-pointer relative inline-block rounded-lg"},E=o("svg",{class:"absolute left-0 w-4 h-4 ml-3 vertical-center"},[o("use",{"xlink:href":"#search"})],-1),U={key:0,class:"py-0 px-2 text-center"},O=o("br",null,null,-1),z=o("br",null,null,-1),D={key:1,class:"py-0 px-2 text-center"},S=o("br",null,null,-1),T=o("br",null,null,-1),V={class:"flex"},X={key:1},Y={style:{height:"inherit",width:"inherit",position:"relative"}},Z=e(M,[["render",function(e,a,t,s,r,l){var u,n;const p=d("Tooltip"),y=d("Left_CurrentChamp_load"),b=d("Letf_RankedEntry"),w=d("Left_User_CurrentChamp"),x=d("Left_qr"),L=d("MatchHistory"),C=d("MatchHistory_load");return f(),i("div",j,[o("div",N,[o("div",q,[c(p,null,{trigger:h((()=>[o("div",R,[v(o("input",{type:"text",placeholder:"查询玩家","onUpdate:modelValue":a[0]||(a[0]=e=>s.searchName=e),class:"text-base py-2 pr-2 pl-10 rounded-lg outline-none input-color focus:bg-blue-1000"},null,512),[[g,s.searchName]]),E])])),default:h((()=>[s.user.data.tagLine?(f(),i("div",U,[_(" 要查询的用户昵称+#ID "),O,_("例："+k(s.user.data.name_and_tagLine)+" ",1),z,_("仅支持同区 ")])):(f(),i("div",D,[_(" 要查询的用户昵称 "),S,_("例："+k(s.user.data.gameName||s.user.data.displayName)+" ",1),T,_("仅支持同区 ")]))])),_:1}),o("div",V,[o("button",{type:"button",style:{height:"2.3rem",width:"7rem"},onClick:a[1]||(a[1]=e=>s.queryuser(s.searchName)),class:"relative select-none block px-2 ml-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 查询 "),o("button",{type:"button",style:{height:"2.3rem",width:"7rem"},onClick:a[2]||(a[2]=e=>s.launch(s.searchName)),class:"relative select-none block px-2 ml-1 font-semibold bg-blue-800 rounded-md shadow-lg hover:bg-blue-1000"}," 观战 ")])]),s.userdata.userdata.userdw?(f(),i("div",X,[(f(),m(b,{key:s.MatchHistorykey,userdata:s.userdata},null,8,["userdata"])),(f(),m(w,{key:s.MatchHistorykey,accountId:s.userdata.userdata.accountId},null,8,["accountId"])),c(x)])):(f(),m(y,{key:0}))]),o("div",Y,[s.userdata.userdata.userdw?(f(),m(L,{key:s.MatchHistorykey,adclass:"",accountId:null==(u=s.userdata.userdata)?void 0:u.accountId,puuid:null==(n=s.userdata.userdata)?void 0:n.puuid},null,8,["accountId","puuid"])):(f(),m(C,{key:1,class:"ml-4",style:{width:"60rem",height:"inherit",overflow:"auto"}}))])])}]]);export{Z as default};
